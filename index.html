
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Eddú Meléndez</title>
  <meta name="author" content="Eddú Meléndez">

  
  <meta name="description" content="JDK 9 Build b90 have been released few days ago and in this build JShell REPL has been integrated. Officially this is the Kulla Project. REPL - Read &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://eddumelendez.github.io/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Eddú Meléndez" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="/javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-49292682-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
</head>
<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Eddú Meléndez</a></h1>
  
</hgroup></header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="sitesearch" value="eddumelendez.github.io">
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul></nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      <header>
    
      <h1 class="entry-title"><a href="/blog/2015/11/04/java-9-jshell/">Java 9: JShell</a></h1>
    
    
      <p class="meta">
        <time class='entry-date' datetime='2015-11-04T00:59:36-05:00'><span class='date'><span class='date-month'>Nov</span> <span class='date-day'>4</span><span class='date-suffix'>th</span>, <span class='date-year'>2015</span></span> <span class='time'>12:59 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>JDK 9 Build b90 have been released few days ago and in this build JShell REPL has been integrated. Officially this is the <strong>Kulla Project</strong>.</p>

<p><strong>REPL</strong> - Read- Eval- Print- Loop has been in other languages and now has arrived to Java. Now, we can write code in our terminal and it read, evaluate them, print the output and</p>

<blockquote><p>Provide an interactive tool to evaluate declarations, statements, and expressions of the Java programming language, together with an API so that other applications can leverage this functionality.
- JEP 222</p></blockquote>

<p>If you want to know more about REPL check <a href="http://openjdk.java.net/jeps/222">JEP 222</a>.</p>

<p>To install the JDK 9 download from <a href="https://jdk9.java.net/download/">here</a>. Make sure you have the right version and remember that build <strong>1.9.0-ea-b90</strong> is integrated with <code>jshell</code>.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>java -version</span></code></pre></td></tr></table></div></figure>


<p>Terminal will display the java version and the build number.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>java version "1.9.0-ea"
</span><span class='line'>Java(TM) SE Runtime Environment (build 1.9.0-ea-b90)
</span><span class='line'>Java HotSpot(TM) 64-Bit Server VM (build 1.9.0-ea-b90, mixed mode)</span></code></pre></td></tr></table></div></figure>


<p>Now, that you have installed the right version you just need to execute the following command:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>jshell</span></code></pre></td></tr></table></div></figure>


<p>Terminal will display something like this:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>|  Welcome to JShell -- Version 1.9.0-ea
</span><span class='line'>|  Type /help for help
</span><span class='line'>
</span><span class='line'>-&gt;</span></code></pre></td></tr></table></div></figure>


<p>In the example below, start typing <code>"Hello World"</code> and the value will be stored in <code>$1</code>. Then, assign <code>$1</code> to <code>saludo</code> which is a <code>String</code>. Finally, print <code>saludo</code>.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>-&gt; "Hello World"
</span><span class='line'>|  Expression value is: "Hello World"
</span><span class='line'>|    assigned to temporary variable $1 of type String
</span><span class='line'>
</span><span class='line'>-&gt; String saludo = $1
</span><span class='line'>|  Added variable saludo of type String with initial value "Hello World"
</span><span class='line'>
</span><span class='line'>-&gt; System.out.print
</span><span class='line'>print(     printf(    println(   
</span><span class='line'>
</span><span class='line'>-&gt; System.out.println(saludo)
</span><span class='line'>Hello World</span></code></pre></td></tr></table></div></figure>


<p>Good, you have started playing around <code>jshell</code>. As you can see, <code>jshell</code> provides autocompletion with <code>tab</code> key.</p>

<p>If you want test the last successful build from <strong>Kulla Project</strong> click <a href="https://adopt-openjdk.ci.cloudbees.com/view/OpenJDK/job/langtools-1.9-linux-x86_64-kulla-dev/lastSuccessfulBuild/artifact/">here</a>. Download the jar and execute it.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>java -jar kulla--20151104010121.jar</span></code></pre></td></tr></table></div></figure>


<p>Check the <a href="https://java.net/downloads/adoptopenjdk/REPL_Tutorial.pdf">REPL tutorial</a> and play with java in your terminal.</p>

<p>If you want to start in java this is a good place to start and if you are an experienced developer then jshell is for you too!</p>
</div>
    </article>
  
  
    <article>
      <header>
    
      <h1 class="entry-title"><a href="/blog/2015/10/05/spring-boot-endpoints-for-data-migration/">Spring Boot Endpoints for Data Migration</a></h1>
    
    
      <p class="meta">
        <time class='entry-date' datetime='2015-10-05T00:10:00-05:00'><span class='date'><span class='date-month'>Oct</span> <span class='date-day'>5</span><span class='date-suffix'>th</span>, <span class='date-year'>2015</span></span> <span class='time'>12:10 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Database Change Management has been one of the practices which I have not seen much in action but there is a first time for everything. When I started a new project time ago, I was aware of lack of this practice and the risks around. In order to avoid risks in the database and wasting time between team members with backups and restores, I started with the research. During the research, I met <code>Flyway</code> and <code>Liquibase</code>. Both are powerful but <code>liquibase</code> was chosen because meet the needs. You can read my post about <a href="http://eddumelendez.github.io/blog/2014/03/27/database-change-management/">Database Change Management</a> and <a href="http://eddumelendez.github.io/blog/2014/08/11/database-change-management-liquibase/">Database Change Management with Liquibase</a>.</p>

<p>Currently, <code>Flyway</code> and <code>Liquibase</code> are supported by <code>spring-boot</code>. Both help to manage the scripts execution over the database and you can configure using <code>flyway.*</code> and <code>liquibase.*</code> property namespaces. Since version 1.3.0, endpoints for both technologies has been added, their purpose is display data in  <code>schema_version</code>, <code>databasechangelog</code> or any table you have customized. Previous to this change, credentials are required to access to the database in order to know this status. Now, everything is exposed via <code>spring-boot</code> and can be accessed to this information through the following endpoints <code>/flyway</code>, <code>/liquibase</code>.</p>

<p>These new endpoints have arrived thanks to <code>actuator</code> which provide several useful endpoints in <code>spring-boot</code>.</p>

<p>If you are currently using one of these technologies integrated with <code>spring-boot</code> you just need to add the actuator in your dependencies and voilá you can see through the inside.</p>

<p>For maven users:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="nt">&lt;dependency&gt;</span>
</span><span class='line'>    <span class="nt">&lt;groupId&gt;</span>org.springframework.boot<span class="nt">&lt;/groupId&gt;</span>
</span><span class='line'>    <span class="nt">&lt;artifactId&gt;</span>spring-boot-actuator<span class="nt">&lt;/artifactId&gt;</span>
</span><span class='line'><span class="nt">&lt;/dependency&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>For gradle users:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'>org.springframework.boot:spring-boot-actuator
</span></code></pre></td></tr></table></div></figure>


<h2>/flyway endpoint</h2>

<p>Once you have everything configure, point to the endpoint. E.g: <a href="http://localhost:8080/flyway">http://localhost:8080/flyway</a></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='json'><span class='line'><span class="p">[</span>
</span><span class='line'>   <span class="p">{</span>
</span><span class='line'>      <span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;SQL&quot;</span><span class="p">,</span>
</span><span class='line'>      <span class="nt">&quot;checksum&quot;</span><span class="p">:</span><span class="mi">710039845</span><span class="p">,</span>
</span><span class='line'>      <span class="nt">&quot;version&quot;</span><span class="p">:</span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
</span><span class='line'>      <span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="s2">&quot;init&quot;</span><span class="p">,</span>
</span><span class='line'>      <span class="nt">&quot;script&quot;</span><span class="p">:</span><span class="s2">&quot;V1__init.sql&quot;</span><span class="p">,</span>
</span><span class='line'>      <span class="nt">&quot;state&quot;</span><span class="p">:</span><span class="s2">&quot;SUCCESS&quot;</span><span class="p">,</span>
</span><span class='line'>      <span class="nt">&quot;installedOn&quot;</span><span class="p">:</span><span class="mi">1441826719448</span><span class="p">,</span>
</span><span class='line'>      <span class="nt">&quot;executionTime&quot;</span><span class="p">:</span><span class="mi">3</span>
</span><span class='line'>   <span class="p">}</span>
</span><span class='line'><span class="p">]</span>
</span></code></pre></td></tr></table></div></figure>


<h2>/liquibase endpoint</h2>

<p>Once you have everything configure, point to the endpoint. E.g: <a href="http://localhost:8080/liquibase">http://localhost:8080/liquibase</a></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
</pre></td><td class='code'><pre><code class='json'><span class='line'><span class="p">[</span>
</span><span class='line'>   <span class="p">{</span>
</span><span class='line'>      <span class="nt">&quot;ID&quot;</span><span class="p">:</span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
</span><span class='line'>      <span class="nt">&quot;AUTHOR&quot;</span><span class="p">:</span><span class="s2">&quot;marceloverdijk&quot;</span><span class="p">,</span>
</span><span class='line'>      <span class="nt">&quot;FILENAME&quot;</span><span class="p">:</span><span class="s2">&quot;classpath:/db/changelog/db.changelog-master.yaml&quot;</span><span class="p">,</span>
</span><span class='line'>      <span class="nt">&quot;DATEEXECUTED&quot;</span><span class="p">:</span><span class="mi">1441826872659</span><span class="p">,</span>
</span><span class='line'>      <span class="nt">&quot;ORDEREXECUTED&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span>
</span><span class='line'>      <span class="nt">&quot;EXECTYPE&quot;</span><span class="p">:</span><span class="s2">&quot;EXECUTED&quot;</span><span class="p">,</span>
</span><span class='line'>      <span class="nt">&quot;MD5SUM&quot;</span><span class="p">:</span><span class="s2">&quot;7:b8f2ae9c88deabd32666dff9bc5d7f5d&quot;</span><span class="p">,</span>
</span><span class='line'>      <span class="nt">&quot;DESCRIPTION&quot;</span><span class="p">:</span><span class="s2">&quot;createTable&quot;</span><span class="p">,</span>
</span><span class='line'>      <span class="nt">&quot;COMMENTS&quot;</span><span class="p">:</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
</span><span class='line'>      <span class="nt">&quot;TAG&quot;</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span>
</span><span class='line'>      <span class="nt">&quot;LIQUIBASE&quot;</span><span class="p">:</span><span class="s2">&quot;3.4.1&quot;</span><span class="p">,</span>
</span><span class='line'>      <span class="nt">&quot;CONTEXTS&quot;</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span>
</span><span class='line'>      <span class="nt">&quot;LABELS&quot;</span><span class="p">:</span><span class="kc">null</span>
</span><span class='line'>   <span class="p">},</span>
</span><span class='line'>   <span class="p">{</span>
</span><span class='line'>      <span class="nt">&quot;ID&quot;</span><span class="p">:</span><span class="s2">&quot;2&quot;</span><span class="p">,</span>
</span><span class='line'>      <span class="nt">&quot;AUTHOR&quot;</span><span class="p">:</span><span class="s2">&quot;marceloverdijk&quot;</span><span class="p">,</span>
</span><span class='line'>      <span class="nt">&quot;FILENAME&quot;</span><span class="p">:</span><span class="s2">&quot;classpath:/db/changelog/db.changelog-master.yaml&quot;</span><span class="p">,</span>
</span><span class='line'>      <span class="nt">&quot;DATEEXECUTED&quot;</span><span class="p">:</span><span class="mi">1441826872663</span><span class="p">,</span>
</span><span class='line'>      <span class="nt">&quot;ORDEREXECUTED&quot;</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span>
</span><span class='line'>      <span class="nt">&quot;EXECTYPE&quot;</span><span class="p">:</span><span class="s2">&quot;EXECUTED&quot;</span><span class="p">,</span>
</span><span class='line'>      <span class="nt">&quot;MD5SUM&quot;</span><span class="p">:</span><span class="s2">&quot;7:a8006415097ebb8b3334a23347847322&quot;</span><span class="p">,</span>
</span><span class='line'>      <span class="nt">&quot;DESCRIPTION&quot;</span><span class="p">:</span><span class="s2">&quot;insert&quot;</span><span class="p">,</span>
</span><span class='line'>      <span class="nt">&quot;COMMENTS&quot;</span><span class="p">:</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
</span><span class='line'>      <span class="nt">&quot;TAG&quot;</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span>
</span><span class='line'>      <span class="nt">&quot;LIQUIBASE&quot;</span><span class="p">:</span><span class="s2">&quot;3.4.1&quot;</span><span class="p">,</span>
</span><span class='line'>      <span class="nt">&quot;CONTEXTS&quot;</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span>
</span><span class='line'>      <span class="nt">&quot;LABELS&quot;</span><span class="p">:</span><span class="kc">null</span>
</span><span class='line'>   <span class="p">}</span>
</span><span class='line'><span class="p">]</span>
</span></code></pre></td></tr></table></div></figure>

</div>
    </article>
  
  
    <article>
      <header>
    
      <h1 class="entry-title"><a href="/blog/2015/08/19/dockerizing-mule-esb/">Dockerizing Mule ESB</a></h1>
    
    
      <p class="meta">
        <time class='entry-date' datetime='2015-08-19T00:10:00-05:00'><span class='date'><span class='date-month'>Aug</span> <span class='date-day'>19</span><span class='date-suffix'>th</span>, <span class='date-year'>2015</span></span> <span class='time'>12:10 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><h2>Creating a Dockerfile for MuleESB</h2>

<p>Let&rsquo;s create our <code>Dockerfile</code></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>vim Dockerfile</span></code></pre></td></tr></table></div></figure>


<p>We will build our Mule ESB Standalone Server image based on java version 8 from <a href="https://registry.hub.docker.com/_/java/">Docker Hub Java</a> repository. More info about <a href="https://docs.docker.com/docker/reference/builder/#from">FROM</a></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>FROM java:8</span></code></pre></td></tr></table></div></figure>


<p>We will use two environment variables <code>MULE_HOME</code> and <code>MULE_VERSION</code>, which will be used in our <code>Dockerfile</code>. More info about <a href="https://docs.docker.com/docker/reference/builder/#env">ENV</a></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>ENV MULE_HOME /opt/mule
</span><span class='line'>
</span><span class='line'>ENV MULE_VERSION 3.7.0</span></code></pre></td></tr></table></div></figure>


<p>Now, we need to download the latest version of Mule Standalone Server from Mulesoft&rsquo;s repository in <code>/opt</code> folder, unzip it and rename the folder to <code>mule</code>. Additionally, zip file will be deleted. Since, we are running over Linux (Ubuntu) we can use some useful commands. More info about <a href="https://docs.docker.com/docker/reference/builder/#run">RUN</a></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>RUN set -x \
</span><span class='line'>        && cd /opt \
</span><span class='line'>        && curl -o mule.zip https://repository.mulesoft.org/nexus/content/repositories/releases/org/mule/distributions/mule-standalone/$MULE_VERSION/mule-standalone-$MULE_VERSION.zip \
</span><span class='line'>        && unzip mule.zip \
</span><span class='line'>        && mv mule-standalone-$MULE_VERSION mule \
</span><span class='line'>        && rm mule.zip*</span></code></pre></td></tr></table></div></figure>


<p>Then, we will locate at <code>$MULE_HOME</code> folder. More info about <a href="https://docs.docker.com/docker/reference/builder/#workdir">WORKDIR</a></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>WORKDIR $MULE_HOME</span></code></pre></td></tr></table></div></figure>


<p>Now, we will expose some folder inside of mule in order to have access from outside of docker container. More info about <a href="https://docs.docker.com/docker/reference/builder/#volume">VOLUME</a></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>VOLUME $MULE_HOME/apps
</span><span class='line'>VOLUME $MULE_HOME/conf
</span><span class='line'>VOLUME $MULE_HOME/domains
</span><span class='line'>VOLUME $MULE_HOME/logs</span></code></pre></td></tr></table></div></figure>


<p>Finally, we need to start the server. More info about <a href="https://docs.docker.com/docker/reference/builder/#entrypoint">ENTRYPOINT</a></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>ENTRYPOINT ["./bin/mule"]</span></code></pre></td></tr></table></div></figure>


<p>Our final <code>Dockerfile</code> looks like this</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>FROM java:8
</span><span class='line'>
</span><span class='line'>MAINTAINER Eddú Meléndez &lt;eddu.melendez@gmail.com&gt;
</span><span class='line'>
</span><span class='line'>ENV MULE_HOME /opt/mule
</span><span class='line'>
</span><span class='line'>ENV MULE_VERSION 3.7.0
</span><span class='line'>
</span><span class='line'>RUN set -x \
</span><span class='line'>        && cd /opt \
</span><span class='line'>        && curl -o mule.zip https://repository.mulesoft.org/nexus/content/repositories/releases/org/mule/distributions/mule-standalone/$MULE_VERSION/mule-standalone-$MULE_VERSION.zip \
</span><span class='line'>        && unzip mule.zip \
</span><span class='line'>        && mv mule-standalone-$MULE_VERSION mule \
</span><span class='line'>        && rm mule.zip*
</span><span class='line'>
</span><span class='line'>WORKDIR $MULE_HOME
</span><span class='line'>
</span><span class='line'>VOLUME $MULE_HOME/apps
</span><span class='line'>VOLUME $MULE_HOME/conf
</span><span class='line'>VOLUME $MULE_HOME/domains
</span><span class='line'>VOLUME $MULE_HOME/logs
</span><span class='line'>
</span><span class='line'>ENTRYPOINT ["./bin/mule"]</span></code></pre></td></tr></table></div></figure>


<h2>Building the MuleESB Docker image</h2>

<p>In order to have the image available in your local machine we just need to execute the command below:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>docker build --tag eddumelendez/mule  .</span></code></pre></td></tr></table></div></figure>


<h2>Running the MuleESB Docker image</h2>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>docker run -ti eddumelendez/mule</span></code></pre></td></tr></table></div></figure>


<p>You can find the final example on my github repository <a href="https://github.com/eddumelendez/docker-mule">docker-mule</a></p>
</div>
    </article>
  
  
    <article>
      <header>
    
      <h1 class="entry-title"><a href="/blog/2015/08/01/spring-4-2-0-springclassrule-and-springmethodrule/">Spring 4.2.0: SpringClassRule and SpringMethodRule</a></h1>
    
    
      <p class="meta">
        <time class='entry-date' datetime='2015-08-01T00:10:00-05:00'><span class='date'><span class='date-month'>Aug</span> <span class='date-day'>1</span><span class='date-suffix'>st</span>, <span class='date-year'>2015</span></span> <span class='time'>12:10 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Spring Framework 4.2.0.RELEASE has arrived and two new rules have been added to spring-framework project <code>SpringClassRule</code> and <code>SpringMethodRule</code>.</p>

<p>In spring applications we have used <code>SpringJUnit4ClassRunner</code> for a long time in our tests but <code>JUnit</code> only support one Runner at the time, in order to allow integration between spring with other Runners like <code>org.junit.runners.Parameterized</code> we can use these new classes instead of <code>@RunWith(SpringJUnit4ClassRunner.class)</code></p>

<ul>
<li><p><code>SpringClassRule</code> enable the following annotations <code>@BeforeClass</code>, <code>@AfterClass</code>, <code>@ProfileValueSourceConfiguration</code>, <code>@IfProfileValue</code>.</p></li>
<li><p><code>SpringMethodRule</code> enable the following annotations <code>@Before</code>, <code>@After</code>, <code>@Repeat</code>, <code>@Timeout</code>, <code>@ProfileValueSourceConfiguration</code>, <code>@IfProfileValue</code>.</p></li>
</ul>


<p>Test using classic <code>SpringJUnit4ClassRunner</code>.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="kn">package</span> <span class="n">io</span><span class="o">.</span><span class="na">eddumelendez</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'><span class="kn">import</span> <span class="nn">org.junit.runner.RunWith</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">org.springframework.test.context.junit4.SpringJUnit4ClassRunner</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'><span class="nd">@RunWith</span><span class="o">(</span><span class="n">SpringJUnit4ClassRunner</span><span class="o">.</span><span class="na">class</span><span class="o">)</span>
</span><span class='line'><span class="kd">public</span> <span class="kd">class</span> <span class="nc">SpringTest</span> <span class="o">{</span>
</span><span class='line'>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>Test using new rules <code>SpringClassRule</code> and <code>SpringMethodRule</code>.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="kn">package</span> <span class="n">io</span><span class="o">.</span><span class="na">eddumelendez</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'><span class="kn">import</span> <span class="nn">org.junit.ClassRule</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">org.junit.Rule</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">org.springframework.test.context.junit4.rules.SpringClassRule</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">org.springframework.test.context.junit4.rules.SpringMethodRule</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'><span class="kd">public</span> <span class="kd">class</span> <span class="nc">SpringTest</span> <span class="o">{</span>
</span><span class='line'>
</span><span class='line'>    <span class="nd">@ClassRule</span>
</span><span class='line'>    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">SpringClassRule</span> <span class="n">SPRING_CLASS_RULE</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">SpringClassRule</span><span class="o">();</span>
</span><span class='line'>
</span><span class='line'>    <span class="nd">@Rule</span>
</span><span class='line'>    <span class="kd">public</span> <span class="kd">final</span> <span class="n">SpringMethodRule</span> <span class="n">springMethodRule</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">SpringMethodRule</span><span class="o">();</span>
</span><span class='line'>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>Both have the same effect in your test and you can use them in different context.</p>
</div>
    </article>
  
  
    <article>
      <header>
    
      <h1 class="entry-title"><a href="/blog/2015/06/01/java-ee-mvc-1-0/">Java EE: MVC 1.0</a></h1>
    
    
      <p class="meta">
        <time class='entry-date' datetime='2015-06-01T22:16:32-05:00'><span class='date'><span class='date-month'>Jun</span> <span class='date-day'>1</span><span class='date-suffix'>st</span>, <span class='date-year'>2015</span></span> <span class='time'>10:16 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Java EE is evolving and there are a lot of news coming in Java EE 8. Java EE is constantly adopting standards and now is time to the new spec <code>MVC 1.0</code> (JSR-371) is part of Java EE 8 which will be released in 2016.</p>

<p>If you are thinking on a new concept, let me tell that you are wrong MVC is Model, View, Controller the pattern for web frameworks and you already knew it.</p>

<p>Now, UI frameworks has been categorized in:</p>

<ul>
<li>Action-based, like MVC.</li>
<li>Component-based, like JSF.</li>
</ul>


<p>But, I am pretty sure that you have the following question <a href="http://www.oracle.com/technetwork/articles/java/mvc-2280472.html">Why another MVC framework?</a>.</p>

<p>Complete integration with Jersey (JAX-RS) and obviously with all Java EE ecosystem.</p>

<p>You can see in <a href="https://github.com/spericas/ozark">ozark</a> github repository the RI (Reference Implementation) to the frameworks below:</p>

<ul>
<li>Freemaker</li>
<li>Handlebars</li>
<li>Mustache</li>
<li>Thymeleaf</li>
<li>Velocity</li>
</ul>


<p><strong>Note:</strong> Glassfish 4.1, is the only Server Application which support this specification at the time I am writing this post.</p>

<p>To use it in your projects add the this dependency in your pom.xml (if you are using maven)</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="nt">&lt;dependency&gt;</span>
</span><span class='line'>  <span class="nt">&lt;groupId&gt;</span>javax.mvc<span class="nt">&lt;/groupId&gt;</span>
</span><span class='line'>  <span class="nt">&lt;artifactId&gt;</span>javax.mvc-api<span class="nt">&lt;/artifactId&gt;</span>
</span><span class='line'>  <span class="nt">&lt;version&gt;</span>1.0-edr1<span class="nt">&lt;/version&gt;</span>
</span><span class='line'><span class="nt">&lt;/dependency&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>JSP&rsquo;s are located at <code>src/main/webapp/WEB-INF/views</code> folder.</p>

<p>There are 4 ways to return a view:</p>

<ol>
<li>Void method with <code>@View</code> and the jsp name.</li>
<li>Return <code>String</code> with the jsp name.</li>
<li>Return <code>Viewable</code> class with the jsp name.</li>
<li>Return <code>Response</code> class from JAX-RS to return the jsp name as a entity.</li>
</ol>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="nd">@Controller</span>
</span><span class='line'><span class="nd">@Path</span><span class="o">(</span><span class="s">&quot;book&quot;</span><span class="o">)</span>
</span><span class='line'><span class="nd">@Produces</span><span class="o">(</span><span class="s">&quot;text/html&quot;</span><span class="o">)</span>
</span><span class='line'><span class="kd">public</span> <span class="kd">class</span> <span class="nc">BookController</span> <span class="o">{</span>
</span><span class='line'>
</span><span class='line'>  <span class="nd">@GET</span>
</span><span class='line'>  <span class="nd">@View</span><span class="o">(</span><span class="s">&quot;books.jsp&quot;</span><span class="o">)</span>
</span><span class='line'>  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">viewBooks</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'>
</span><span class='line'>  <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>  <span class="nd">@GET</span>
</span><span class='line'>  <span class="kd">public</span> <span class="n">String</span> <span class="nf">viewBookInfo</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'>      <span class="k">return</span> <span class="s">&quot;book.jsp&quot;</span><span class="o">;</span>
</span><span class='line'>  <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>  <span class="nd">@GET</span>
</span><span class='line'>  <span class="kd">public</span> <span class="n">Viewable</span> <span class="nf">viewBookDetail</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'>      <span class="k">return</span> <span class="k">new</span> <span class="nf">Viewable</span><span class="o">(</span><span class="s">&quot;bookDetail.jsp&quot;</span><span class="o">);</span>
</span><span class='line'>  <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>  <span class="nd">@GET</span>
</span><span class='line'>  <span class="kd">public</span> <span class="n">Response</span> <span class="nf">viewBook</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'>      <span class="k">return</span> <span class="n">Response</span><span class="o">.</span><span class="na">status</span><span class="o">(</span><span class="n">Response</span><span class="o">.</span><span class="na">Status</span><span class="o">.</span><span class="na">OK</span><span class="o">).</span><span class="na">entity</span><span class="o">(</span><span class="s">&quot;book.jsp&quot;</span><span class="o">).</span><span class="na">build</span><span class="o">();</span>
</span><span class='line'>  <span class="o">}</span>
</span><span class='line'>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>If you can check the code of this API take a look the github repository <a href="https://github.com/spericas/mvc-spec">MVC 1.0</a></p>
</div>
    </article>
  
  
    <article>
      <header>
    
      <h1 class="entry-title"><a href="/blog/2015/06/01/git-useful-commands/">Git: Useful Commands</a></h1>
    
    
      <p class="meta">
        <time class='entry-date' datetime='2015-06-01T01:18:55-05:00'><span class='date'><span class='date-month'>Jun</span> <span class='date-day'>1</span><span class='date-suffix'>st</span>, <span class='date-year'>2015</span></span> <span class='time'>1:18 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><code>Git</code> is the most popular Version Control System at this time. There are several benefits like Distributed Version Control System, manage commits by references, save space and so on. And to be honest make my job easy in the software development.</p>

<p>In this post I will share some <code>git</code> useful commands.</p>

<h3>View cool log</h3>

<p>Sometimes we don&rsquo;t need to much detail in our log and it is enough reading the commit&rsquo;s title. Also we would like to know ref names of commits. Additionally, we would like to display branching graph.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>git log --oneline --decorate --graph
</span></code></pre></td></tr></table></div></figure>


<p>As a result, you can see the commit hash towards to the commit&rsquo;s title. Also, you can see branches graph.</p>

<p><img src="https://dl.dropboxusercontent.com/u/15671111/blog/git-comman%20-%20log%20oneline%20decorate%20graph.png" alt="" /></p>

<h3>View pending commits to push</h3>

<p>Sometimes, I thought that have been sent my commits to the central repository. An easy way to know how many commits are in your local repository and ready to push them is with the command below.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>git log --oneline origin/master.. master
</span></code></pre></td></tr></table></div></figure>


<h3>Rebase</h3>

<p>Put your local commits to the top and pull all the changes in the repository avoiding conflicts with the central repository.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>git pull --rebase origin master
</span></code></pre></td></tr></table></div></figure>


<p>You can also rebase in interactive mode, which allow to choose actions like <code>pick</code>, <code>reword</code>, <code>edit</code>, <code>squash</code>, <code>fixup</code>, <code>exec</code>. To know about this command check this <a href="https://help.github.com/articles/about-git-rebase/#commands-available-while-rebasing">link</a>.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>git rebase -i origin/master
</span></code></pre></td></tr></table></div></figure>


<h3>Push specific commit</h3>

<p>If you have one pending commit and start in a new feature you maybe wondering how to push your commit without revert all the changes you started. You just need the commit hash and execute the command below.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>git push origin <span class="nb">hash</span>:master
</span></code></pre></td></tr></table></div></figure>


<h3>Get commit from another branch</h3>

<p>Imagine you are working in a new feature with your team in a different branch than master. Then, a team member add a cool functionality which will be util in production right now. You can not wait and want to deploy this functionality in production tonight.</p>

<p>Using the command below you just need to know the commit hash and all changes in that commit will be copy in your current branch. Awesome, isn&rsquo;t it?</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>git cherry-pick <span class="nb">hash</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Amend</h3>

<p>Every day, as a developers we are introducing new code. After few changes we can save our work, but, wait!!! It&rsquo;s not the end we need to do more changes to finish the feature. Git add <code>amend</code> which allow us to override the last commit. <strong>NOTE: which has not been pushed to the central repository.</strong></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>git commit --amend --reuse-message<span class="o">=</span>HEAD
</span></code></pre></td></tr></table></div></figure>


<h1>Building git command alias</h1>

<p>All commands mentioned above can be too large or complex to remember them but you can use <code>alias</code> to give a easy name for you.</p>

<p>Command below will store <code>log --oneline --decorate --graph</code> in the alias <code>logd</code></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>git config --global alias.lodg <span class="sb">`</span>log --oneline --decorate --graph<span class="sb">`</span>
</span></code></pre></td></tr></table></div></figure>


<p>After setup your new alias. You can use <code>git lodg</code> instead <code>git log --oneline --decorate --graph</code> and the result will be the same.</p>
</div>
    </article>
  
  
    <article>
      <header>
    
      <h1 class="entry-title"><a href="/blog/2015/05/27/code-analysis-with-jarchitect/">Code Analysis With JArchitect</a></h1>
    
    
      <p class="meta">
        <time class='entry-date' datetime='2015-05-27T00:02:29-05:00'><span class='date'><span class='date-month'>May</span> <span class='date-day'>27</span><span class='date-suffix'>th</span>, <span class='date-year'>2015</span></span> <span class='time'>12:02 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Code Analysis is a really important stage in our projects, we need to take a look the software healthy every day. In this blog, <code>JArchitect</code> is the Code Analysis tool for Java projects that we are going to talk about.</p>

<p>Months ago I have the chance to get a JArchitect&rsquo;s license- thanks to the <code>CodeGears</code> team for this license. Then, I started taking a look how it works.</p>

<ul>
<li>Code Quality Metrics</li>
<li>Graph Dependency</li>
<li>Dependency Cycle</li>
</ul>


<h2>Features</h2>

<p>A really nice feature is that you can use <code>CQLinq</code> to build query over Java code. To learn more about <code>CQLinq</code> syntax check <a href="http://www.jarchitect.com/Doc_CQLinq_Syntax">here</a>. Also, allow you to create your own rules.</p>

<p>Modern projects use build tools to package their artifacts (jar, war, etc) So the integration with modern build tools such as <code>gradle</code> and <code>maven</code> is possible, you can follow the online documentation to set up.</p>

<ul>
<li><a href="http://www.jarchitect.com/Doc_Ant">Ant Integration</a></li>
<li><a href="http://www.jarchitect.com/Doc_Maven">Maven Integration</a></li>
<li><a href="http://www.jarchitect.com/Doc_Gradle">Gradle Integration</a></li>
</ul>


<p>Also, Continuous Integration process is real using JArchitect.</p>

<ul>
<li><a href="http://www.jarchitect.com/Doc_CI_Jenkins">Jenkins Integration</a></li>
<li><a href="http://www.jarchitect.com/Doc_CI_TeamCity">TeamCity Integration</a></li>
</ul>


<p>About <code>Code Coverage</code>, <code>cobertura</code> is the only technology supported by JArchitect at this moment. These metrics can be getting from xml files, but we need to generate reports previous to the code analysis.</p>

<p>Another great integration is that we can enrich our analysis with existing tools in the market like <code>CheckStyle</code>, <code>FindBugs</code>, <code>PMD</code>.</p>

<p>Languages that already run in the JVM can be analyze by JArchitect like <code>scala</code>, <code>groovy</code>, <code>clojure</code>.</p>

<p>For <code>Open Source</code> contributor there are good news. You can get your own free copy of <code>JArchitect</code>. How to apply? Check this <a href="http://www.jarchitect.com/JArchitectForOSS">link</a> for more information.</p>

<p>Analysis Bar<img src="https://dl.dropboxusercontent.com/u/15671111/blog/jarchitect%20-%20analysis.png" alt="" /></p>

<p>Graph Dependency<img src="https://dl.dropboxusercontent.com/u/15671111/blog/jarchitect%20-%20graph%20dependency.png" alt="" /></p>

<p>Report- Metrics<img src="https://dl.dropboxusercontent.com/u/15671111/blog/jarchitect%20-%20metrics.png" alt="" /></p>

<p>Report- Rules Violated<img src="https://dl.dropboxusercontent.com/u/15671111/blog/jarchitect%20-%20rules%20violated.png" alt="" /></p>

<p>CQLinq sentence<img src="https://dl.dropboxusercontent.com/u/15671111/blog/jarchitect-%20cqlinq.png" alt="" /></p>
</div>
    </article>
  
  
    <article>
      <header>
    
      <h1 class="entry-title"><a href="/blog/2015/04/14/improving-maven-projects/">Improving Maven Projects</a></h1>
    
    
      <p class="meta">
        <time class='entry-date' datetime='2015-04-14T22:17:16-05:00'><span class='date'><span class='date-month'>Apr</span> <span class='date-day'>14</span><span class='date-suffix'>th</span>, <span class='date-year'>2015</span></span> <span class='time'>10:17 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>During long time <strong>maven</strong> has been the defacto build tool and dependency management for java projects. Since previous version some cool things has been added by plugins but now maven has been enriched with new features learning from the others.</p>

<ul>
<li><a href="#lifecycle">Maven Lifecycle</a></li>
<li><a href="#polyglot">Maven Polyglot</a></li>
<li><a href="#wrapper">Maven Wrapper</a></li>
</ul>


<p>All these new stuff is thanks to <a href="http://takari.io/">Takiri</a> which is lead by Jason van Zyl (<a href="https://twitter.com/jvanzyl">@jvanzyl</a>) the maven&rsquo;s father.</p>

<p>Requirements:</p>

<ul>
<li>Maven 3.3.1</li>
<li>Java 7</li>
</ul>


<p><a name="lifecycle"></a></p>

<h2>Maven Lifecycle</h2>

<p>Avoid the re-compilation if there are no changes in the source code. Just is needed two simple steps to enable this awesome feature. Save your time!!!</p>

<p><strong>1.</strong> Add plugin below:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="nt">&lt;build&gt;</span>
</span><span class='line'>  <span class="nt">&lt;plugins&gt;</span>
</span><span class='line'>    <span class="nt">&lt;plugin&gt;</span>
</span><span class='line'>      <span class="nt">&lt;groupId&gt;</span>io.takari.maven.plugins<span class="nt">&lt;/groupId&gt;</span>
</span><span class='line'>      <span class="nt">&lt;artifactId&gt;</span>takari-lifecycle-plugin<span class="nt">&lt;/artifactId&gt;</span>
</span><span class='line'>      <span class="nt">&lt;extensions&gt;</span>true<span class="nt">&lt;/extensions&gt;</span>
</span><span class='line'>    <span class="nt">&lt;/plugin&gt;</span>
</span><span class='line'>  <span class="nt">&lt;/plugins&gt;</span>
</span><span class='line'><span class="nt">&lt;/build&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p><strong>2.</strong> Switch your current <code>packaging</code> from <code>jar</code> to <code>takari-jar</code>.</p>

<p>You can see the log to see if the plugin take effect. If you have compiled previously and you do again with after these configuration then no compilation will be done but if there are any change in your source code then it will compile again.</p>

<p><a name="polyglot"></a></p>

<h2>Maven Polyglot</h2>

<p>Build <code>pom</code> file in xml format is verbose. Now, you can build your pom in different languages: atom, clojure, groovy, ruby, scala, yaml. And take advantage of each one.</p>

<p>Pre-requisite:</p>

<ol>
<li>Inside the project create <code>.mvn/extensions.xml</code> file, where language dependency will take place:</li>
</ol>


<h3>Atom</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
</span><span class='line'><span class="nt">&lt;extensions&gt;</span>
</span><span class='line'>  <span class="nt">&lt;extension&gt;</span>
</span><span class='line'>      <span class="nt">&lt;groupId&gt;</span>io.takari.polyglot<span class="nt">&lt;/groupId&gt;</span>
</span><span class='line'>      <span class="nt">&lt;artifactId&gt;</span>polyglot-atom<span class="nt">&lt;/artifactId&gt;</span>
</span><span class='line'>      <span class="nt">&lt;version&gt;</span>0.1.6<span class="nt">&lt;/version&gt;</span>
</span><span class='line'>  <span class="nt">&lt;/extension&gt;</span>
</span><span class='line'><span class="nt">&lt;/extensions&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Clojure:</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
</span><span class='line'><span class="nt">&lt;extensions&gt;</span>
</span><span class='line'>  <span class="nt">&lt;extension&gt;</span>
</span><span class='line'>      <span class="nt">&lt;groupId&gt;</span>io.takari.polyglot<span class="nt">&lt;/groupId&gt;</span>
</span><span class='line'>      <span class="nt">&lt;artifactId&gt;</span>polyglot-clojure<span class="nt">&lt;/artifactId&gt;</span>
</span><span class='line'>      <span class="nt">&lt;version&gt;</span>0.1.6<span class="nt">&lt;/version&gt;</span>
</span><span class='line'>  <span class="nt">&lt;/extension&gt;</span>
</span><span class='line'><span class="nt">&lt;/extensions&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Groovy</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
</span><span class='line'><span class="nt">&lt;extensions&gt;</span>
</span><span class='line'>  <span class="nt">&lt;extension&gt;</span>
</span><span class='line'>      <span class="nt">&lt;groupId&gt;</span>io.takari.polyglot<span class="nt">&lt;/groupId&gt;</span>
</span><span class='line'>      <span class="nt">&lt;artifactId&gt;</span>polyglot-groovy<span class="nt">&lt;/artifactId&gt;</span>
</span><span class='line'>      <span class="nt">&lt;version&gt;</span>0.1.6<span class="nt">&lt;/version&gt;</span>
</span><span class='line'>  <span class="nt">&lt;/extension&gt;</span>
</span><span class='line'><span class="nt">&lt;/extensions&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Ruby</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
</span><span class='line'><span class="nt">&lt;extensions&gt;</span>
</span><span class='line'>  <span class="nt">&lt;extension&gt;</span>
</span><span class='line'>      <span class="nt">&lt;groupId&gt;</span>io.takari.polyglot<span class="nt">&lt;/groupId&gt;</span>
</span><span class='line'>      <span class="nt">&lt;artifactId&gt;</span>polyglot-ruby<span class="nt">&lt;/artifactId&gt;</span>
</span><span class='line'>      <span class="nt">&lt;version&gt;</span>0.1.6<span class="nt">&lt;/version&gt;</span>
</span><span class='line'>  <span class="nt">&lt;/extension&gt;</span>
</span><span class='line'><span class="nt">&lt;/extensions&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Scala</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
</span><span class='line'><span class="nt">&lt;extensions&gt;</span>
</span><span class='line'>  <span class="nt">&lt;extension&gt;</span>
</span><span class='line'>      <span class="nt">&lt;groupId&gt;</span>io.takari.polyglot<span class="nt">&lt;/groupId&gt;</span>
</span><span class='line'>      <span class="nt">&lt;artifactId&gt;</span>polyglot-scala<span class="nt">&lt;/artifactId&gt;</span>
</span><span class='line'>      <span class="nt">&lt;version&gt;</span>0.1.6<span class="nt">&lt;/version&gt;</span>
</span><span class='line'>  <span class="nt">&lt;/extension&gt;</span>
</span><span class='line'><span class="nt">&lt;/extensions&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Yaml</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
</span><span class='line'><span class="nt">&lt;extensions&gt;</span>
</span><span class='line'>  <span class="nt">&lt;extension&gt;</span>
</span><span class='line'>      <span class="nt">&lt;groupId&gt;</span>io.takari.polyglot<span class="nt">&lt;/groupId&gt;</span>
</span><span class='line'>      <span class="nt">&lt;artifactId&gt;</span>polyglot-yaml<span class="nt">&lt;/artifactId&gt;</span>
</span><span class='line'>      <span class="nt">&lt;version&gt;</span>0.1.6<span class="nt">&lt;/version&gt;</span>
</span><span class='line'>  <span class="nt">&lt;/extension&gt;</span>
</span><span class='line'><span class="nt">&lt;/extensions&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>Would you like to migrate your xml to any other language? You can do it running the command below:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'>mvn io.takari.polyglot:polyglot-translate-plugin:translate -Dinput=pom.xml -Doutput=pom.{format}
</span></code></pre></td></tr></table></div></figure>


<p>Where <code>format</code> could be <code>atom</code>, <code>clj</code>, <code>groovy</code>, <code>rb</code>, <code>scala</code> and <code>yml</code>.</p>

<p><a name="wrapper"></a></p>

<h2>Maven Wrapper</h2>

<p>Share projects is common and sometimes we have specific version from our build tool. Now, you don&rsquo;t need to ask to your friend which maven version you need if the maven project use <code>maven-wrapper</code>. To do that, you just need to run:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'>mvn -N io.takari:maven:wrapper
</span></code></pre></td></tr></table></div></figure>


<p>Now you can make a build <code>mvnw clean install</code>. If you like to see which maven version you will download take a look at <code>.mvn/wrapper/maven-wrapper.properties</code> inside your project.</p>
</div>
    </article>
  
  
    <article>
      <header>
    
      <h1 class="entry-title"><a href="/blog/2015/01/06/my-advice-to-junior-developers-about-their-career-spanish-version/">My Advice to (Junior) Developers About Their Career</a></h1>
    
    
      <p class="meta">
        <time class='entry-date' datetime='2015-01-06T00:43:59-05:00'><span class='date'><span class='date-month'>Jan</span> <span class='date-day'>6</span><span class='date-suffix'>th</span>, <span class='date-year'>2015</span></span> <span class='time'>12:43 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><h2>Mi consejo a desarrolladores (juniors) sobre su carrera</h2>

<p>&ldquo;Los últimos meses he conocido jóvenes desarrolladores que están buscando su primer trabajo o están todavia tratando de obtener su grado de bachiller. Muchos de ellos pidieron darles un consejo sobre cuales serian sus primeros pasos en la carrera de desarrollo de software. Se ve bien ver jóvenes preocuparse sobre sus carreras. No recuerdo que los chicos de mi edad tuvieran esa mentalidad. Asumo que fue la crisis económica la que hizo que todos estos jóvenes actúen con bastante madurez, pero me gusta.</p>

<p>En este post resumo mi consejo a todos estos jóvenes y desarrolladores ambiciosos. No se deje engañar por la palabra jóven. Incluso si ustedes tienen 10 años, son todavía jóvenes. Al menos yo me siento así.</p>

<p>Lo primero que ellos me preguntaron fue que lenguaje o framework deberían aprender primero. Pude dar miles de diferentes respuestas pero la clave no está en saber qué lenguaje ya conoces sino la rapidez con la que se puede aprender uno nuevo. Piensas que a Google, Ebay ó Amazon les importa si eres un experto en Java ó JEE ó JavaScript? Envía tu CV y ten una entrevista con algunos chicos <em>techie</em>.</p>

<p>Las compañías de IT deben contratar personajes y entrenar sus habilidades. Ok, sé que este no siempre es el caso pero tarde o temprano, alguien te preguntará por la lista de lenguajes de programación o frameworks que conoces. Si eres el personaje de <a href="http://es.wikipedia.org/wiki/Lucky_Luke">&ldquo;Lucky Luke&rdquo;</a> nadie te va a querer en su equipo. La era de los desarrolladores super héroes ha pasado y no veo que regrese nunca. El trabajo en equipo es la clave del éxito y debes estar preparado para eso. Que hay sobre las habilidades? Si no puedes aprender una nueva herramienta, un nuevo lenguaje de programación o un framework, tu todavía tienes tiempo de ir a otra carrera. Las compañías invertirán en tí para enseñarte nuevas habilidades pero tu debes ser un rápido aprendiz y ser capaz de adoptar nuevas habilidades técnicas en tu trabajo diario. Piensa por un minuto sobre la definición de <em>inversión</em>. Sí, estas en lo correcto. Las compañías no están regalando esas habilidades. Ellos esperan de ti devolver el nuevo conocimiento mediante el aumento de habilidades, productividad y eventualmente el valor de la empresa.</p>

<p>Otra gran idea es ser amigo del OpenSource. Coge una herramienta OpenSource que te guste, que conozcas bien o sólo la encuentres interesante, y unite a la comunidad. Trata de ser activo, y por que no, contribuir al proyecto. No hay nada mejor que mostrarle a los futuros empleadores sobre su trabajo en un proyecto real de código abierto. Por otra parte, abre una cuenta en <a href="https://www.github.com">github</a>, si no lo ha hecho ya. Sube tus proyectos personales. Deje ver a otros que eres un apasionado del desarrollo de software y no solo están considerandolo como un camino para obtener dinero. Y desde que tienes tu cuenta de github lee el código de otros. Es una gran camino para abrir tu mente y aprender nuevas cosas de lenguajes que tu nunca has visto.</p>

<p>Sé ágil! aprende a escribir código limpio, no importa cual es el lenguaje en el que tu escribes tu código. Aprende a respetarte a ti mismo y a los demás desarrolladores de tu equipo. Tu código refleja tu personalidad. Un código desordenado probablemente hara a tus colegas pensar que eres lo mismo en tu vida personal. No querrás escuchar de tus colegas <em>wtf is this?</em>  cuando ellos lean o revisen tu último commit. Aprende <strong>patrones de diseño</strong> y <strong>refactoring</strong>. Puedes aplicarlos en todos los lenguajes populares y seguramente te haran escribir código limpio.</p>

<p>Unete a un Grupo Local y ve a algunas conferencias. Es increíble cuantas cosas aprendes cuando conoces gente de diferentes culturas, orígenes y conocimiento. No tienes nada que perder. Al contrario, puedo asegurarte que estas en una situación ganadora. Sin mencionar que incrementaras tu círculo social y quizás mejorar las opciones de obtener un nuevo trabajo.</p>

<p>Finalmente construye tu marca. Quizás suene como un chico de marketing, pero no lo soy. Haga publicidad de si mismo con sus logros, incluso si es el millonésimo que lo hizo. No importa. Haga saber a los demás sus intereses y que estas activo en el desarrollo de software. Linkedin, Twitter y otras redes profesionales pueden ayudar bastante. Empieza tu blog y publica pequeños artículos sobre tu experiencia y conocimiento, incluso si son para principiantes. Otra vez, no importa!!! Te encontraras publicando mas y mas material avanzado muy pronto.</p>

<p>Y unas cosa mas&hellip; <strong>Nunca pares de aprender nuevas cosas</strong>. Tu decidiste ser un Ingeniero de Software. Este es tu destino. Aprender nuevas cosas constantemente."</p>

<p>  <strong>Source:</strong>
<a href='http://softwaregarden.io/my-advice-to-junior-developers-about-their-career/' class='article-link linkpost'>My Advice to (Junior) Developers About Their&nbsp;Career&nbsp;<span class='post-marker post-marker-after'>→</span></a></p>
</div>
    </article>
  
  
    <article>
      <header>
    
      <h1 class="entry-title"><a href="/blog/2014/12/31/how-to-start-with-mule-esb/">How to Start With Mule ESB</a></h1>
    
    
      <p class="meta">
        <time class='entry-date' datetime='2014-12-31T20:22:57-05:00'><span class='date'><span class='date-month'>Dec</span> <span class='date-day'>31</span><span class='date-suffix'>st</span>, <span class='date-year'>2014</span></span> <span class='time'>8:22 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><h2>What is an ESB?</h2>

<p>It&rsquo;s a software architecture. ESB or Enterprise Service Bus is a Enterprise Integration Pattern (EIP) solves the <code>spaghetti integration</code> pattern.</p>

<h2>What is Mule ESB?</h2>

<p>It is a Open Source Enterprise Service Bus (ESB), which allow to integrate lot of technologies.</p>

<p>Mule main parts:</p>

<ul>
<li>Component</li>
<li>Transport</li>
<li>Transformers</li>
<li>Inbound/Outbound Routers</li>
</ul>


<p>Mule also provide rich set of:</p>

<ul>
<li>Routers</li>
<li>Transformers</li>
<li>Filters</li>
</ul>


<h2>Using Maven</h2>

<p>Make sure you have set the Mulesoft&rsquo;s repository in <code>settings.xml</code></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="nt">&lt;repositories&gt;</span>
</span><span class='line'>  <span class="nt">&lt;repository&gt;</span>
</span><span class='line'>    <span class="nt">&lt;id&gt;</span>mulesoft-release<span class="nt">&lt;/id&gt;</span>
</span><span class='line'>    <span class="nt">&lt;name&gt;</span>Mulesoft Release Repository<span class="nt">&lt;/name&gt;</span>
</span><span class='line'>    <span class="nt">&lt;url&gt;</span>https://repository.mulesoft.org/nexus/content/repositories/public/<span class="nt">&lt;/url&gt;</span>
</span><span class='line'>  <span class="nt">&lt;/repository&gt;</span>
</span><span class='line'><span class="nt">&lt;/repositories&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>Also, check you have the pluginGroup <code>org.mule.tools</code>.</p>

<p>Now, you are able to run the following command your terminal:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'>mvn mule-project-archetype:create -DartifactId=helloWorld -DmuleVersion=3.5.0
</span></code></pre></td></tr></table></div></figure>


<h2>Using Gradle</h2>

<p>Make sure you have a build.gradle file inside the folder with the following content:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'>buildscript {
</span><span class='line'>    dependencies {
</span><span class='line'>        classpath group: &#39;org.mulesoft.build&#39;, name: &#39;mule-gradle-plugin&#39;, version: &#39;1.1.0&#39;
</span><span class='line'>    }
</span><span class='line'>
</span><span class='line'>    repositories {
</span><span class='line'>        maven {
</span><span class='line'>            url &#39;http://repository.mulesoft.org/releases&#39;
</span><span class='line'>        }
</span><span class='line'>    }
</span><span class='line'>}
</span><span class='line'>
</span><span class='line'>apply plugin: &#39;mule&#39;
</span><span class='line'>
</span><span class='line'>mule.version = &#39;3.5.0&#39;
</span><span class='line'>
</span><span class='line'>mule.muleEnterprise = false
</span></code></pre></td></tr></table></div></figure>


<p>After that you can execute:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'>gradle initMuleProject
</span></code></pre></td></tr></table></div></figure>


<p>By default, <code>mule.muleEnterprise</code> is set to <code>true</code>.</p>

<p>For more information you can visit <a href="https://github.com/mulesoft-labs/mule-gradle-plugin">mule-gradle-plguin</a> documentation.</p>

<p>Using maven or gradle you will be able to see the project like this</p>

<p><img src="https://dl.dropboxusercontent.com/u/15671111/blog/mule-gradle.png" alt="" /></p>

<h2>Differences between maven and gradle plugin</h2>

<table>
<thead>
<tr>
<th> Maven        </th>
<th> Gradle      </th>
</tr>
</thead>
<tbody>
<tr>
<td> Provide <code>mule</code> packaging      </td>
<td> Provide <code>mule</code> plugin</td>
</tr>
<tr>
<td> Allow to deploy in local mule standalone </td>
<td> Allow to deploy in local mule standalone, Mule Management Console and Cloudhub</td>
</tr>
<tr>
<td>-</td>
<td>Allow to run application with a simple command</td>
</tr>
</tbody>
</table>


<h1>Testing</h1>

<p><code>mule-config.xml</code> is placed inside of <code>src/main/app</code>. Here you will find a http service which will return <code>Hello World!</code> message.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
</span><span class='line'><span class="c">&lt;!-- created by the gradle mule plugin --&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;mule</span> <span class="na">xmlns:http=</span><span class="s">&quot;http://www.mulesoft.org/schema/mule/http&quot;</span> <span class="na">xmlns=</span><span class="s">&quot;http://www.mulesoft.org/schema/mule/core&quot;</span> <span class="na">xmlns:doc=</span><span class="s">&quot;http://www.mulesoft.org/schema/mule/documentation&quot;</span> <span class="na">xmlns:spring=</span><span class="s">&quot;http://www.springframework.org/schema/beans&quot;</span> <span class="na">version=</span><span class="s">&quot;EE-3.4.2&quot;</span> <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span> <span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-current.xsd</span>
</span><span class='line'><span class="s">  http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd</span>
</span><span class='line'><span class="s">  http://www.mulesoft.org/schema/mule/http http://www.mulesoft.org/schema/mule/http/current/mule-http.xsd&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>  <span class="nt">&lt;flow</span> <span class="na">name=</span><span class="s">&quot;mule-configFlow1&quot;</span> <span class="na">doc:name=</span><span class="s">&quot;mule-configFlow1&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>    <span class="nt">&lt;http:inbound-endpoint</span> <span class="na">exchange-pattern=</span><span class="s">&quot;request-response&quot;</span> <span class="na">host=</span><span class="s">&quot;localhost&quot;</span> <span class="na">port=</span><span class="s">&quot;8081&quot;</span> <span class="na">doc:name=</span><span class="s">&quot;HTTP&quot;</span><span class="nt">/&gt;</span>
</span><span class='line'>    <span class="nt">&lt;set-payload</span> <span class="na">doc:name=</span><span class="s">&quot;Set Payload&quot;</span> <span class="na">value=</span><span class="s">&quot;Hello World!&quot;</span><span class="nt">/&gt;</span>
</span><span class='line'>  <span class="nt">&lt;/flow&gt;</span>
</span><span class='line'><span class="nt">&lt;/mule&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>Then, proceed to write a test for the existing flow. As you can see response will be validated.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="kn">import</span> <span class="nn">org.hamcrest.core.Is</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">org.junit.Assert</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">org.junit.Test</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">org.mule.api.MuleMessage</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">org.mule.api.client.MuleClient</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">org.mule.tck.junit4.FunctionalTestCase</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'><span class="kd">public</span> <span class="kd">class</span> <span class="nc">MuleTest</span> <span class="kd">extends</span> <span class="n">FunctionalTestCase</span> <span class="o">{</span>
</span><span class='line'>
</span><span class='line'>  <span class="nd">@Override</span>
</span><span class='line'>  <span class="kd">protected</span> <span class="n">String</span> <span class="nf">getConfigFile</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'>    <span class="k">return</span> <span class="s">&quot;src/main/app/mule-config.xml&quot;</span><span class="o">;</span>
</span><span class='line'>  <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>  <span class="nd">@Test</span>
</span><span class='line'>  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">testMuleConfigFlow1</span><span class="o">()</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
</span><span class='line'>    <span class="n">MuleClient</span> <span class="n">client</span> <span class="o">=</span> <span class="n">muleContext</span><span class="o">.</span><span class="na">getClient</span><span class="o">();</span>
</span><span class='line'>    <span class="n">MuleMessage</span> <span class="n">message</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">request</span><span class="o">(</span><span class="s">&quot;http://localhost:8081&quot;</span><span class="o">,</span> <span class="mi">3000L</span><span class="o">);</span>
</span><span class='line'>    <span class="n">String</span> <span class="n">payload</span> <span class="o">=</span> <span class="n">message</span><span class="o">.</span><span class="na">getPayloadAsString</span><span class="o">();</span>
</span><span class='line'>    <span class="n">Assert</span><span class="o">.</span><span class="na">assertThat</span><span class="o">(</span><span class="n">payload</span><span class="o">,</span> <span class="n">Is</span><span class="o">.</span><span class="na">is</span><span class="o">(</span><span class="s">&quot;Hello World!&quot;</span><span class="o">));</span>
</span><span class='line'>  <span class="o">}</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>

</div>
    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/posts/2">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
  </div>
</div>
<aside class="sidebar">
  
    
<section>
	<span>
		<img src="http://www.gravatar.com/avatar/cf9e8d46103d66657d9c6817a5aa35d3" alt="Gravatar of Eddú Meléndez " title="Gravatar of Eddú Meléndez" />
	</span>
</section>

<section>
  <h1>Follow Me</h1>
  <div id="twitter-profile" style="margin-top:0.5em;">
    <p>
      <a href="https://twitter.com/eddumelendez" class="twitter-follow-button" data-show-count="false">Follow @eddumelendez</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
    </p>
  </div>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2015/11/04/java-9-jshell/">Java 9: JShell</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/10/05/spring-boot-endpoints-for-data-migration/">Spring Boot Endpoints for Data Migration</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/08/19/dockerizing-mule-esb/">Dockerizing Mule ESB</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/08/01/spring-4-2-0-springclassrule-and-springmethodrule/">Spring 4.2.0: SpringClassRule and SpringMethodRule</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/06/01/java-ee-mvc-1-0/">Java EE: MVC 1.0</a>
      </li>
    
  </ul>
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2015 - Eddú Meléndez -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p></footer>
  <script type="text/javascript">
      var disqus_shortname = 'eddumelendez';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>
<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id; js.async = true;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>
<script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>
<script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>
</body>
</html>
